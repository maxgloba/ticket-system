(window.webpackJsonp=window.webpackJsonp||[]).push([[32,11,17],{324:function(t,e,n){"use strict";var o=n(2),c=n(89).find,d=n(141),r="find",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{find:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),d(r)},325:function(t,e,n){var content=n(329);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("2ec0e4e1",content,!0,{sourceMap:!1})},326:function(t,e,n){"use strict";n.r(e);n(328);var o=n(15),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("footer",{staticClass:"footer"},[t("span",[this._v("All Rights Reserved - Geekout 2022")])])}],!1,null,"5fa75128",null);e.default=component.exports;installComponents(component,{Footer:n(326).default})},328:function(t,e,n){"use strict";n(325)},329:function(t,e,n){var o=n(43)((function(i){return i[1]}));o.push([t.i,".footer[data-v-5fa75128]{align-items:center;bottom:0;display:flex;height:60px;justify-content:center;left:0;position:absolute;text-align:center;width:100%;z-index:19}.footer span[data-v-5fa75128]{color:#fff;font-size:16px}.mode-dark .footer[data-v-5fa75128]{background:#1e2022}.mode-white .footer[data-v-5fa75128]{background:var(--active)}",""]),o.locals={},t.exports=o},330:function(t,e,n){var content=n(337);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("3e26d51b",content,!0,{sourceMap:!1})},332:function(t,e,n){t.exports=n.p+"img/logo.58c3c89.svg"},336:function(t,e,n){"use strict";n(330)},337:function(t,e,n){var o=n(43),c=n(214),d=n(338),r=n(339),l=n(340),f=n(341),m=o((function(i){return i[1]})),v=c(d),x=c(r),h=c(l),A=c(f);m.push([t.i,".ticket[data-v-db4acfa6]{font-size:14px;margin:0 auto 60px}@media(min-width:768px){.ticket[data-v-db4acfa6]{display:flex;max-height:306px}}@media(min-width:1200px){.ticket[data-v-db4acfa6]{max-height:365px}}.ticket-left[data-v-db4acfa6]{background:linear-gradient(45deg,var(--prime),#414141);border-radius:8px 8px 0 0;color:#fff;display:flex;flex-direction:column;margin-bottom:8px;padding:15px;position:relative;width:100%}@media(min-width:768px){.ticket-left[data-v-db4acfa6]{border-radius:16px 0 0 16px;flex:1 calc(100% - 306px);margin-bottom:0;margin-right:8px;max-width:calc(100% - 306px);padding:30px}}.ticket-left[data-v-db4acfa6]:before{background:url("+v+') repeat-x 0 0;content:"";height:6px;position:absolute;right:0;top:100%;width:100%}@media(min-width:768px){.ticket-left[data-v-db4acfa6]:before{background:url('+x+") repeat-y 0 0;height:100%;right:-6px;top:0;width:6px}}.ticket-header[data-v-db4acfa6]{align-items:center;display:flex;justify-content:space-between}.ticket-logo[data-v-db4acfa6]{position:relative;width:77px}.ticket-logo img[data-v-db4acfa6]{display:block;height:auto;width:100%}.ticket-logo span[data-v-db4acfa6]{bottom:-40px;color:hsla(0,0%,100%,.1);display:block;font-size:30px;line-height:1;position:absolute;transform:translate(10px);white-space:nowrap}@media(min-width:576px){.ticket-logo span[data-v-db4acfa6]{bottom:-5px;left:100%}}@media(min-width:992px){.ticket-logo span[data-v-db4acfa6]{font-size:40px}}.ticket-main[data-v-db4acfa6]{align-items:center;display:flex;flex-grow:1;text-align:left}.ticket-name[data-v-db4acfa6]{font-size:30px;font-weight:700;line-height:1;padding-right:30px;position:relative}@media(max-width:767px){.ticket-name[data-v-db4acfa6]{padding:60px 30px 60px 0}}@media(min-width:992px){.ticket-name[data-v-db4acfa6]{font-size:50px}}.ticket-name:hover .ticket-eddit[data-v-db4acfa6]{opacity:1}.ticket-footer[data-v-db4acfa6]{padding-bottom:15px}@media(min-width:768px){.ticket-footer[data-v-db4acfa6]{align-items:flex-end;display:flex;justify-content:space-between;padding-bottom:0}}.ticket-order[data-v-db4acfa6]{padding-top:1.8em}@media(max-width:767px){.ticket-order[data-v-db4acfa6]{padding-top:.2em}}.ticket-qr[data-v-db4acfa6]{border-radius:0 0 8px 8px;flex:1 200px;min-width:200px;overflow:hidden;padding-top:6px;position:relative;width:100%}@media(min-width:768px){.ticket-qr[data-v-db4acfa6]{border-radius:0 16px 16px 0;flex:1 306px;height:306px;min-width:306px;padding-left:6px;padding-top:0}}@media(min-width:1200px){.ticket-qr[data-v-db4acfa6]{flex:1 365px;height:365px}}.ticket-qr[data-v-db4acfa6]:before{background:url("+h+') repeat-x 0 0;content:"";height:6px;left:0;position:absolute;top:0;width:100%}@media(min-width:768px){.ticket-qr[data-v-db4acfa6]:before{background:url('+A+") repeat-y 0 0;height:100%;width:6px}}.ticket-qr img[data-v-db4acfa6]{display:block;width:100%}@media(min-width:768px){.ticket-qr img[data-v-db4acfa6]{height:306px}}@media(min-width:1200px){.ticket-qr img[data-v-db4acfa6]{height:365px}}.ticket-qr:hover .ticket-remove[data-v-db4acfa6]{opacity:1}@media(min-width:768px){.ticket-status[data-v-db4acfa6]{margin-top:-25px}}@media(min-width:992px){.ticket-status[data-v-db4acfa6]{margin-top:0}}.ticket-text[data-v-db4acfa6]{font-size:14px;font-weight:300;line-height:1.1;text-transform:uppercase}@media(min-width:768px){.ticket-text[data-v-db4acfa6]{font-size:16px;line-height:1.4}}.ticket-text a[data-v-db4acfa6],.ticket-text span[data-v-db4acfa6]{color:var(--active);font-size:20px;font-weight:700;-webkit-text-decoration:none;text-decoration:none;text-transform:none}@media(min-width:768px){.ticket-text a[data-v-db4acfa6],.ticket-text span[data-v-db4acfa6]{font-size:20px}}@media(max-width:767px){.ticket-text:not(.ticket-text.ticket-status) span[data-v-db4acfa6]{display:block}.ticket-text[data-v-db4acfa6]:not(.ticket-text.ticket-status):not(:first-child){margin-top:15px}}.ticket-text .btn-visit[data-v-db4acfa6]{background:var(--active);border-radius:4px;color:#fff;font-size:14px;padding:10px 20px;text-transform:uppercase;transition:background .3s ease}.ticket-text .btn-visit[data-v-db4acfa6]:hover{background:#1e2022}.ticket-eddit[data-v-db4acfa6],.ticket-remove[data-v-db4acfa6]{align-items:center;background:var(--active);border:none;border-radius:4px;display:flex;font-size:12px;height:24px;justify-content:center;opacity:0;padding:0;position:absolute;right:10px;text-transform:uppercase;top:10px;transition:1s ease;width:24px;z-index:10}.ticket-eddit[data-v-db4acfa6]:hover,.ticket-remove[data-v-db4acfa6]:hover{background:red}.ticket-eddit svg[data-v-db4acfa6],.ticket-remove svg[data-v-db4acfa6]{display:block;height:12px;width:auto}.ticket-eddit svg path[data-v-db4acfa6],.ticket-remove svg path[data-v-db4acfa6]{fill:#fff}.ticket-eddit[data-v-db4acfa6]{right:0;top:2px}",""]),m.locals={},t.exports=m},338:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAGCAYAAAAlvnXZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABuSURBVHgBpY9RDYAwDEQpQQASkLIpQAMOhgI2CUjBwDIpSMBBufJFGlKWrEnTtL17acl7z11jDMbuZOYD9UKORDSjTtUQGFLOOapxcM5F7Dat7ysBT5RSIq5LJsQCKND+BZH/1z/ACxSgX8Qn/Q0SHS5ARg8i7gAAAABJRU5ErkJggg=="},339:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAARCAYAAAD+H91rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB4SURBVHgBdZDRDYAgDERpJ3AEVoEFHEWdQBjBDVzBBQijMIITgDUxBvC8z3tt2jsyxhQFxAorQVBK8R9ARFuMcefO9CGEubnxmK4/nmrzBTJ9KPRuzvmEgJkHCOTvEQKRttauCNxbroZNwBoSalcGFlii5Jr+atcXo5UsZgg5o3UAAAAASUVORK5CYII="},340:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAGCAYAAAAlvnXZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgBlYxbDcAgEASvCmqhkioBB0hAAlZwBBZQcCyPDyAHgUnmb3eIKx4qugB73X5MPGIPA6Y/zZGMuQmsIsuQFMg8pSQToIMRvvCHnzTcRY5Jc/SWDJzg5HMAAAAASUVORK5CYII="},341:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAARCAYAAAD+H91rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABbSURBVHgBdZHBDYAwDAPTTsCIbFI2QIzCRGUENjDm0T5S+6QoDyuJrRSQEFTW44QrHNx2IGFFO6nW9l+o4uQ9XGVeJ2xhrHflqqkcbcnBfi7JWTsE81imAPofH9IDppsEfdwJAAAAAElFTkSuQmCC"},347:function(t,e,n){"use strict";n.r(e);n(34),n(140),n(20),n(49),n(67);var o={data:function(){return{qrSrc:!1}},props:["data"],filters:{setDate:function(time){return new Date(Number(time)).toLocaleString("en",{month:"2-digit",day:"2-digit",year:"numeric"})},saveName:function(t){for(var e=t[0],i=1;i<t.length;i++)e+="*";return e},saveEmail:function(t){return t.replace(/(.{2})(.*)(?=@)/,(function(t,e,n){for(var i=0;i<n.length;i++)e+="*";return e}))}},methods:{remove:function(t){var e=this;this.$axios.post("".concat("https://api.geekex.com","/db/updates"),{params:{table:"tickets",data:{index:t,keys:["orderId"],values:[" "]}}}).then((function(t){e.$store.commit("global/setAlert","Ticket was removed from this order!"),e.$el.style.display="none"}))},getQR:function(t){var e=this;this.$axios.get("".concat("https://api.geekex.com","/qr?ticketId=").concat(t)).then((function(t){e.qrSrc=t.data}))}},computed:{role:function(){return this.$store.getters["global/getRole"]},events:function(){return this.$store.getters["global/getEvents"]}},mounted:function(){this.getQR(this.data.ticketId)}},c=(n(336),n(15)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return t.data?e("div",{staticClass:"ticket",attrs:{id:"ticket_".concat(t.data.orderId)}},[e("div",{staticClass:"ticket-left"},[e("header",{staticClass:"ticket-header"},[e("div",{staticClass:"ticket-logo"},[e("img",{attrs:{src:n(332),alt:"logo"}}),t._v(" "),t.events?e("span",[t._v(t._s(t.events[t.data.campaignId])+" Event")]):t._e()]),t._v(" "),e("div",{staticClass:"ticket-status ticket-text"},[t._v("\n        Ticket Id:\n        "),e("nuxt-link",{attrs:{to:"/ticket/?id=".concat(t.data.ticketId)}},[t._v(t._s(t.data.ticketId))])],1)]),t._v(" "),e("div",{staticClass:"ticket-main"},["admin"===t.role||"manager"===t.role||"client"===t.role?e("div",{staticClass:"ticket-name"},[t._v("\n        "+t._s(t.data.user.firstName)+" "+t._s(t.data.user.lastName)+"\n        "),e("nuxt-link",{staticClass:"ticket-eddit",attrs:{to:"/user/?id=".concat(t.data.userId)}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"}})])])],1):e("div",{staticClass:"ticket-name"},[t._v(t._s(t._f("saveName")(t.data.user.firstName))+" "+t._s(t._f("saveName")(t.data.user.lastName)))])]),t._v(" "),e("footer",{staticClass:"ticket-footer"},[e("div",{staticClass:"ticket-footer--contact"},[t.data.size?e("div",{staticClass:"ticket-size ticket-text"},[t._v("\n          Size:\n          "),e("span",[t._v(t._s(t.data.size))])]):t._e(),t._v(" "),e("div",{staticClass:"ticket-email ticket-text"},[t._v("\n          Email:\n          "),"admin"===t.role||"manager"===t.role||"client"===t.role?e("span",[t._v(t._s(t.data.user.email))]):e("span",[t._v(t._s(t._f("saveEmail")(t.data.user.email)))])]),t._v(" "),t.data.user.phone?e("div",{staticClass:"ticket-phone ticket-text"},[t._v("\n          Phone:\n            "),e("span",[t._v(t._s(t.data.user.phone))])]):t._e(),t._v(" "),e("div",{staticClass:"ticket-date ticket-text"},[t._v("\n          Date:\n          "),e("span",[t._v(t._s(t._f("setDate")(t.data.date)))])])]),t._v(" "),"admin"===t.role||"manager"===t.role?e("div",{staticClass:"ticket-order ticket-text"},[t._v("\n        Order Id:\n        "),e("nuxt-link",{attrs:{to:"/order/?id=".concat(t.data.orderId)}},[t._v(t._s(t.data.orderId))])],1):t._e(),t._v(" "),"client"===t.role&&"user"===t.$route.name?e("div",{staticClass:"ticket-order ticket-text"},[e("nuxt-link",{staticClass:"btn btn-visit",attrs:{to:"/ticket/?id=".concat(t.data.ticketId)}},[t._v("Visit Ticket page")])],1):t._e()])]),t._v(" "),e("div",{staticClass:"ticket-qr"},[t.qrSrc?e("img",{attrs:{src:t.qrSrc}}):t._e(),t._v(" "),e("button",{staticClass:"ticket-remove",attrs:{title:"Remove ticket from this order"},on:{click:function(e){return e.preventDefault(),t.remove(t.data.ticketId)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"}})])])])]):t._e()}),[],!1,null,"db4acfa6",null);e.default=component.exports;installComponents(component,{Header:n(142).default,Footer:n(326).default})},390:function(t,e,n){var content=n(426);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("4a5a06b4",content,!0,{sourceMap:!1})},425:function(t,e,n){"use strict";n(390)},426:function(t,e,n){var o=n(43)((function(i){return i[1]}));o.push([t.i,".page-ticket[data-v-6fb6af83]{padding:60px 0}h4[data-v-6fb6af83]{color:#fff;font-size:18px;margin-bottom:30px}h4 b[data-v-6fb6af83]{color:var(--active);font-weight:700}.resend[data-v-6fb6af83]{align-items:baseline;display:flex}@media(min-width:576px){.resend[data-v-6fb6af83]{align-items:center}}.resend-btns[data-v-6fb6af83]{align-items:center;display:flex;flex-direction:column}@media(min-width:576px){.resend-btns[data-v-6fb6af83]{flex-direction:row}}.resend h3[data-v-6fb6af83]{color:#fff;font-size:18px;min-width:115px}.resend button[data-v-6fb6af83]{background:none;border:2px solid #fff;border-radius:8px;color:#fff;margin:0 0 10px 15px;padding:5px 15px;transition:.3s ease;width:100%}@media(min-width:576px){.resend button[data-v-6fb6af83]{margin:0 0 0 15px;width:auto}}.resend button[data-v-6fb6af83]:hover{background:var(--active);border-color:var(--active)}.btn-dinner[data-v-6fb6af83]{background:var(--active);border-radius:20px;color:#000;display:block;font-size:24px;font-weight:700;line-height:1;margin-bottom:30px;padding:30px 50px;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase;transition:.3s ease}.btn-dinner[data-v-6fb6af83]:hover{background:#414141;color:#fff}.mode-white .resend h3[data-v-6fb6af83],.mode-white h4[data-v-6fb6af83]{color:var(--prime)}.mode-white .resend button[data-v-6fb6af83]{border-color:var(--active);color:var(--active)}",""]),o.locals={},t.exports=o},459:function(t,e,n){"use strict";n.r(e);n(16),n(29),n(46),n(324),n(67),n(91);var o={data:function(){return{ticket:!1,qrSrc:!1,campaignData:null,campaignId:null}},computed:{role:function(){return this.$store.getters["global/getRole"]},eventInfo:function(){var t,e=this,n=this.$store.getters["global/eventsList"];return Object.keys(n).forEach((function(o){n[o].find((function(t){return t.campignId==e.campaignId}))&&(t=n[o].find((function(t){return t.campignId==e.campaignId})))})),t}},methods:{showQuiz:function(){this.quiz=!this.quiz},sendWelcomeEmail:function(){var t=this;this.$store.commit("global/setLoader",!0),this.$axios.post("".concat("https://api.geekex.com","/nodemailer/welcome"),{params:{ticketId:this.ticket.ticketId,email:this.ticket.user.email,name:"".concat(this.ticket.user.firstName," ").concat(this.ticket.user.lastName),id:this.campaignId}}).then((function(e){t.$store.commit("global/setAlert","Email was sent")})).catch((function(t){console.dir(t)})).finally((function(){t.$store.commit("global/setLoader",!1)}))},sendConfirmEmail:function(){var t=this;this.$store.commit("global/setLoader",!0),this.$axios.post("".concat("https://api.geekex.com","/nodemailer/confirm"),{params:{ticketId:this.ticket.ticketId,email:this.ticket.user.email,name:"".concat(this.ticket.user.firstName," ").concat(this.ticket.user.lastName),id:this.campaignId}}).then((function(e){return console.dir(e),t.$axios.post("".concat("https://api.geekex.com","/db/updates"),{params:{table:"tickets",data:{index:t.ticket.ticketId,keys:["quiz"],values:["true"]}}})})).then((function(e){t.$store.commit("global/setAlert","Email was sent")})).catch((function(t){console.dir(t)})).finally((function(){t.$store.commit("global/setLoader",!1)}))}},mounted:function(){var t,e=this;(this.$store.commit("global/setLoader",!0),this.$route.query.id)?this.$axios.get("".concat("https://api.geekex.com","/db/tickets?where=id&value=").concat(this.$route.query.id)).then((function(n){return t=n.data[0],e.campaignId=t.campaignId,e.$axios.get("".concat("https://api.geekex.com","/db/users?where=id&value=").concat(t.userId))})).then((function(n){e.ticket={campaignId:t.campaignId,orderId:t.orderId,ticketId:t.ID,userId:t.userId,quiz:t.quiz,date:t.created.toString(),size:t.size,user:{firstName:n.data[0].firstName,lastName:n.data[0].lastName,email:n.data[0].email,phone:n.data[0].phone,image:n.data[0].image}}})).finally((function(){e.$store.commit("global/setLoader",!1)})):window.history.back()}},c=o,d=(n(425),n(15)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return t.ticket?e("section",{staticClass:"page page-ticket"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[t._v("\n      e-Ticket \\ "),e("span",[t._v(t._s(t.eventInfo.title))])]),t._v(" "),e("Ticket",{attrs:{data:t.ticket}}),t._v(" "),"admin"===t.role||"manager"===t.role?e("h4",[t._v("\n      Your quiz answers: "),e("b",{domProps:{innerHTML:t._s(t.ticket.quiz?"True":"False")}})]):t._e(),t._v(" "),"admin"===t.role||"manager"===t.role?e("div",{staticClass:"resend"},[e("h3",[t._v("Resend Email:")]),t._v(" "),e("div",{staticClass:"resend-btns"},[e("button",{on:{click:t.sendWelcomeEmail}},[t._v("Welcome Email")]),t._v(" "),e("button",{on:{click:t.sendConfirmEmail}},[t._v("Confirm Email")])])]):t._e()],1)]):t._e()}),[],!1,null,"6fb6af83",null);e.default=component.exports;installComponents(component,{Ticket:n(347).default})}}]);