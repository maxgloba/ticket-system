(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{393:function(e,t,r){var content=r(432);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(44).default)("4bdb090c",content,!0,{sourceMap:!1})},431:function(e,t,r){"use strict";r(393)},432:function(e,t,r){var d=r(43)((function(i){return i[1]}));d.push([e.i,".page-ticket-add[data-v-77ed802e]{padding:60px 0}.page-ticket-add .title[data-v-77ed802e]{margin-bottom:45px;text-align:center}.page-ticket-add .form[data-v-77ed802e]{width:1000px}",""]),d.locals={},e.exports=d},462:function(e,t,r){"use strict";r.r(t);r(50),r(45),r(16),r(67),r(70);var d={data:function(){return{data:{date:(new Date).getTime(),firstName:null,lastName:null,emailAddress:null,phoneNumber:null,campaignId:null,orderId:null,size:"L"},sweatshirts:["XS","S","M","L","XL","XXL","3XL"]}},methods:{submit:function(e){var t=this;e.preventDefault(),this.$store.commit("global/setLoader",!0),this.$axios.post("".concat("https://api.geekex.com","/db/insert"),{params:{table:"users",data:{email:this.data.emailAddress,firstName:this.data.firstName,lastName:this.data.lastName,phone:this.data.phone}}}).then((function(e){return e.data.status&&"error"===e.data.status?t.$axios.get("".concat("https://api.geekex.com","/db/users?where=email&value=").concat(t.data.emailAddress)).then((function(e){return e.data[0].ID})):e.data.insertId})).then((function(e){if(e)return t.$axios.post("".concat("https://api.geekex.com","/db/insert"),{params:{table:"tickets",data:{orderId:t.data.orderId,userId:e,campaignId:t.data.campaignId,size:t.data.size}}});t.$store.commit("global/setAlert","I don't see userId")})).then((function(e){console.dir(e),t.$store.commit("global/setAlert","Ticket was added to order."),setTimeout((function(){t.$router.push({path:"/order",query:{id:t.data.orderId}}),t.data.firstName=null,t.data.lastName=null,t.data.emailAddress=null,t.data.phoneNumber=null,t.data.campaignId=null,t.data.orderId=null,t.data.size="L"}),3e3)})).catch((function(e){console.dir(e)})).finally((function(){t.$store.commit("global/setLoader",!1)}))}},mounted:function(){this.$route.query.orderId&&(this.data.orderId=this.$route.query.orderId),this.$route.query.campaignId&&(this.data.campaignId=this.$route.query.campaignId),this.$route.query.firstName&&(this.data.firstName=this.$route.query.firstName),this.$route.query.lastName&&(this.data.lastName=this.$route.query.lastName),this.$route.query.emailAddress&&(this.data.emailAddress=this.$route.query.emailAddress),this.$route.query.phoneNumber&&(this.data.phoneNumber=this.$route.query.phoneNumber)}},o=(r(431),r(15)),component=Object(o.a)(d,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"page page-ticket-add"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Add New Ticket")]),e._v(" "),t("form",{staticClass:"form",on:{submit:e.submit}},[t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"firstName"}},[e._v("First name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.firstName,expression:"data.firstName"}],attrs:{type:"text",id:"firstName",required:""},domProps:{value:e.data.firstName},on:{input:function(t){t.target.composing||e.$set(e.data,"firstName",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"lastName"}},[e._v("Last name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.lastName,expression:"data.lastName"}],attrs:{type:"text",id:"lastName",required:""},domProps:{value:e.data.lastName},on:{input:function(t){t.target.composing||e.$set(e.data,"lastName",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"email"}},[e._v("E-mail")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.emailAddress,expression:"data.emailAddress"}],attrs:{type:"email",id:"email",required:""},domProps:{value:e.data.emailAddress},on:{input:function(t){t.target.composing||e.$set(e.data,"emailAddress",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"phone"}},[e._v("Phone")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.phoneNumber,expression:"data.phoneNumber"}],attrs:{type:"tel",id:"phone",required:""},domProps:{value:e.data.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.data,"phoneNumber",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"campaignId"}},[e._v("Konnektive campaignId")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.campaignId,expression:"data.campaignId"}],attrs:{type:"text",id:"campaignId",required:""},domProps:{value:e.data.campaignId},on:{input:function(t){t.target.composing||e.$set(e.data,"campaignId",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"orderId"}},[e._v("Konnektive orderId")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.orderId,expression:"data.orderId"}],attrs:{type:"text",id:"orderId",required:""},domProps:{value:e.data.orderId},on:{input:function(t){t.target.composing||e.$set(e.data,"orderId",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"field field__half"},[t("label",{attrs:{for:"sweatshirt"}},[e._v("Choose sweatshirt size")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.data.size,expression:"data.size"}],attrs:{id:"sweatshirt",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.data,"size",t.target.multiple?r:r[0])}}},e._l(e.sweatshirts,(function(r){return t("option",{domProps:{value:r}},[e._v(e._s(r))])})),0)]),e._v(" "),e._m(0)])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"field field__half"},[e("input",{attrs:{type:"submit",value:"Add Ticket"}})])}],!1,null,"77ed802e",null);t.default=component.exports}}]);